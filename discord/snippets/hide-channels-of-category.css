/*	A revise version from @autumnvn
	ctto: https://discord.com/channels/1015060230222131221/1134844326933954622/1138816486945853556
	hide channels if their respective category is not expanded
*/
[class*="sidebar_"]:has(nav[aria-label*="(server)"]) [class*="scroller_"]>ul[aria-label="Channels"]>li:has([aria-label*="(category)"]):has([aria-expanded="false"])~li:has([aria-label*="channel"]):not(li:has([aria-label*="(category)"]):has([aria-expanded="false"]) ~ li:has([aria-label*="(category)"]):has([aria-expanded="true"]) ~ li:has([aria-label*="channel"])),
[class*="sidebar_"]:has(nav[aria-label*="(server)"]) [class*="scroller_"]>ul[aria-label="Channels"]>li:has([aria-label*="(category)"]):has([aria-expanded="false"])~li:has([aria-label*="(category)"]):has([aria-expanded="true"])~li:has([aria-label*="(category)"]):has([aria-expanded="false"])~li:has([aria-label*="channel"]):not(li:has([aria-label*="(category)"]):has([aria-expanded="false"]) ~ li:has([aria-label*="(category)"]):has([aria-expanded="true"]) ~ li:has([aria-label*="(category)"]):has([aria-expanded="false"]) ~ li:has([aria-label*="(category)"]):has([aria-expanded="true"]) ~ li:has([aria-label*="channel"])),
[class*="sidebar_"]:has(nav[aria-label*="(server)"]) [class*="scroller_"]>ul[aria-label="Channels"]>li:has([aria-label*="(category)"]):has([aria-expanded="false"])~li:has([aria-label*="(category)"]):has([aria-expanded="true"])~li:has([aria-label*="(category)"]):has([aria-expanded="false"])~li:has([aria-label*="(category)"]):has([aria-expanded="true"])~li:has([aria-label*="(category)"]):has([aria-expanded="false"])~li:has([aria-label*="channel"]):not(li:has([aria-label*="(category)"]):has([aria-expanded="false"]) ~ li:has([aria-label*="(category)"]):has([aria-expanded="true"]) ~ li:has([aria-label*="(category)"]):has([aria-expanded="false"]) ~ li:has([aria-label*="(category)"]):has([aria-expanded="true"]) ~ li:has([aria-label*="(category)"]):has([aria-expanded="false"]) ~ li:has([aria-label*="(category)"]):has([aria-expanded="true"]) ~ li:has([aria-label*="channel"])) {
    display: none
}
